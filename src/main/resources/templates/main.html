<!DOCTYPE html>
<html layout:decorate="~{common/layout}">
<div layout:fragment="content" class="container my-3">
  <div sec:authorize="isAuthenticated()" th:text="${@rq.user.userName}"></div>
<!--  ?. 는 alert 이 null 이면 false 로 인식 아예 div 가 렌더링 되지 않게 해준다 -->
  <div th:if="${alert?.kind != null}" id="alertKind" th:attr="data-alert-kind=${alert.kind}"></div>
  <div> 메인입니다</div>
</div>

</html>

<script>
  document.addEventListener("DOMContentLoaded", function () {
      var alertKindElement = document.getElementById('alertKind');
      var alertKindValue = alertKindElement.getAttribute('data-alert-kind');

        console.log(alertKind+"!!!!!!");
      if (alertKindValue === 'updatePeriod') {
          // alert 창을 띄우는 코드
          alert('구독이 연장되었습니다.! 감사합니다!!');
      }else if(alertKindValue === 'createSubscribe' ) {
       alert('구독 신청이 완료되었습니다. !! 감사합니다!!')
      }

  });
</script>